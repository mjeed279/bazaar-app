# متطلبات مشروع Bazaar

## نظرة عامة
مشروع Bazaar هو تطبيق وسيط بين العملاء وعلي إكسبريس، يعمل كمنصة مستقلة تتيح للمستخدمين تصفح وشراء منتجات علي إكسبريس مع إضافة هامش ربح 30% على الأسعار الأصلية. يجب أن يكون التطبيق منفصلاً وخاصاً بالمالك، بحيث لا يعرف العملاء أن التطبيق يعمل كوسيط.

## المتطلبات الوظيفية

### 1. التكامل مع علي إكسبريس
- استخدام واجهة برمجة تطبيقات علي إكسبريس الرسمية (AliExpress Open Platform)
- التكامل مع واجهة برمجة تطبيقات التسويق بالعمولة (AE-Affiliate API)
- جلب جميع منتجات علي إكسبريس باستثناء المنتجات الممنوعة في السعودية
- إنشاء روابط تسويق بالعمولة لكل منتج
- تتبع الطلبات والشحنات من خلال واجهة برمجة التطبيقات

### 2. تصفية المنتجات
- تنفيذ آلية لتصفية المنتجات الممنوعة من الدخول إلى السعودية
- استبعاد المنتجات التالية من العرض:
  * الحبوب والمسكرات والمخدرات بجميع أنواعها
  * الأقراص ووسائل التخزين التي تحتوي على مواد مخلة بالآداب
  * العملات المزورة
  * الألعاب النارية بجميع أشكالها وأنواعها
  * دخان المعسل الممنوع
  * المواد المخالفة للثقافة الإسلامية
  * المواد المخالفة لنظام وسياسة الدولة
  * المواد السياسية أو أي محتويات ذات الصلة
  * الممنوعات أو المواد غير قانونية
  * المواد مجهولة الهوية والمواد الكيميائية
  * المواد الغذائية القابلة للتلف
  * الحيوانات الحية والحشرات
  * الصور والأفلام الإباحية والألعاب الجنسية
  * الكحول بشكل عام
  * المتفجرات، الألعاب النارية، البارود، المشتعلات
  * البنزين والديزل وأنواع الوقود الأخرى
  * المبيدات الحشرية ومبيدات الأعشاب الضارة والفطريات
  * لوحات التوازن الذاتي (hoverboards scooter)
  * المنتجات أو العناصر المشعة
  * الأجهزة الطبية التي لم توافق عليها إدارة الأغذية والعقاقير
  * الهرمونات، هرمونات النمو البشري، علاج الخلايا الجذعية، المنشطات
  * الأدوية غير الموصوفة
  * المكملات الغذائية غير المعتمدة
  * أدوات التجميل غير المرخصة
  * المواد المعدية
  * المواد الخطرة (كيماويات، متفجرات، محروقات، أسمدة، سموم)
  * الأسلحة النارية وأجزائها أو ما شابهها من دمى بلاستيكية
  * خشب الورد البرازيلي
  * المرجان
  * المنتجات المقلدة

### 3. واجهة المستخدم
- تطوير واجهة مستخدم سهلة الاستخدام وجذابة
- دعم اللغة العربية كلغة أساسية
- تصميم متجاوب يعمل على أجهزة الويب والجوال
- صفحة رئيسية تعرض المنتجات المميزة والفئات
- صفحات تصفح المنتجات مع خيارات تصفية وفرز
- صفحات تفاصيل المنتج مع صور ومواصفات وتقييمات
- سلة تسوق وعملية دفع سلسة

### 4. منصات التطبيق
- تطبيق ويب متكامل
- تطبيق iOS
- تطبيق Android

### 5. معالجة الدفع
- تكامل مع بوابات الدفع المحلية والعالمية
- إضافة هامش ربح 30% على سعر المنتج الأصلي
- عرض السعر النهائي للعميل (بعد إضافة هامش الربح)
- تتبع حالة الدفع والطلبات

### 6. النشر والاستضافة
- نشر تطبيق الويب على Vercel
- نشر الكود المصدري على GitHub
- نشر تطبيقات الجوال على متاجر التطبيقات

## المتطلبات غير الوظيفية

### 1. الأداء
- زمن استجابة سريع لتحميل صفحات المنتجات
- تحسين الأداء لعرض الصور والمحتوى
- تخزين مؤقت للبيانات لتقليل الاتصالات بواجهة برمجة التطبيقات

### 2. الأمان
- حماية بيانات المستخدم والمعاملات
- تشفير بيانات الدفع
- حماية مفاتيح واجهة برمجة التطبيقات

### 3. قابلية التوسع
- تصميم النظام ليستوعب زيادة عدد المستخدمين والمنتجات
- قابلية إضافة ميزات جديدة في المستقبل

### 4. الخصوصية
- عدم الكشف عن أن التطبيق يعمل كوسيط لعلي إكسبريس
- حماية بيانات العملاء وسجل مشترياتهم

## متطلبات التكامل مع علي إكسبريس

### خطوات التكامل مع منصة علي إكسبريس المفتوحة
1. التسجيل كمطور في منصة علي إكسبريس المفتوحة
2. إنشاء تطبيق وطلب الموافقة عليه
3. الحصول على مفاتيح API (App Key و App Secret)
4. طلب إذن الوصول إلى واجهات برمجة التطبيقات المطلوبة
5. تكوين تفويض البائعين
6. الحصول على تفويض من البائعين
7. استدعاء واجهات برمجة التطبيقات باستخدام طلبات HTTP

### واجهات برمجة التطبيقات المطلوبة
- **AE-Affiliate**: للحصول على روابط التسويق بالعمولة وتتبع الطلبات
  * `aliexpress.affiliate.product.query`: للبحث عن المنتجات
  * `aliexpress.affiliate.productdetail.get`: للحصول على تفاصيل المنتج
  * `aliexpress.affiliate.link.generate`: لإنشاء روابط التسويق بالعمولة
  * `aliexpress.affiliate.order.get`: للحصول على معلومات الطلب
  * `aliexpress.affiliate.order.list`: للحصول على قائمة الطلبات
  * `aliexpress.affiliate.category.get`: للحصول على فئات المنتجات
  * `aliexpress.affiliate.hotproduct.query`: للحصول على المنتجات الرائجة

- **AE-Logistics**: لتتبع الشحنات
- **AE-Order & Transaction**: لإدارة الطلبات والمعاملات

## الموارد والأدوات
- Next.js لتطوير تطبيق الويب
- React Native لتطوير تطبيقات الجوال
- Node.js للخادم الخلفي
- GitHub لإدارة الكود المصدري
- Vercel للنشر والاستضافة
